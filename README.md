# 金山云直播推流Android SDK v4.0功能说明

KSY Streamer Android SDK是金山云推出的 Android 平台上使用的软件开发工具包(SDK), 负责视频直播的采集、预处理、编码和推流。当前为v4.0.0的beta版本，欢迎大家试用测试。  

## 与v3.x的功能对比

### 功能增强

* 美颜性能大幅提升，不同机型上性能提升可达4~40倍，内置美颜均可流畅运行在主流机型上；
* 软硬编模式下，均可支持所有的内置美颜滤镜，同时自定义GPU美颜滤镜也可以作用于软编模式下；
* 预览分辨率与推流分辨率分离，可分别设置，同时支持自定义分辨率的设置；
* 添加后台音频推流支持，app切到后台，音频部分可继续推流，返回前台后视频恢复；

### 后续将添加的功能

* 开放各个模块的接口，用户可以使用类似搭积木的方式来使用SDK，可以提供更好的扩展性及自由度
（v4.0.0正式版提供）；
* 支持TextureView作为预览view（v4.0.0正式版提供）；
* 低延迟耳返的支持（在某些特定机型上）;
* 录屏推流的支持；

### 相对于v3.x暂未支持的功能

* 手动对焦 (v4.0.1提供)
* 画中画 (v4.1.0提供)

其他功能特性参见3.x版本。

## 对比v3.x的其他改动

* 包名调整为com.ksyun.media.streamer;
* 相关事件及错误回调均执行在相应对象的创建线程（一般为主线程），
调用者可以直接在回调函数中操作推流SDK；
* SDK参数的设置方式改为直接调用KSYStreamer类的相关设置接口，或者调用各个积木模块的设置接口，
之前使用KSYStreamerConfig进行配置的方式不再维护；
* 不再建议在视频原始数据的回调中进行美颜滤镜等相关处理，
可继承ImgTexFilter类实现自定义视频滤镜，在软硬编下对预览、推流均有效；
* 不再建议在音频原始数据的回调中进行音频相关的处理，
推荐继承AudioFilterBase类实现自定义音频滤镜；

v4.0 beta版本的使用可参考demo中的相关代码，具体的集成文档以及详细的接口文档将在
v4.0.0 正式版发布时放出。

## 反馈与建议
- 主页：[金山云](http://www.ksyun.com/)
- 邮箱：<zengfanping@kingsoft.com>
- QQ讨论群：574179720
- Issues: <https://github.com/ksvc/KSYStreamer_Android/issues>
